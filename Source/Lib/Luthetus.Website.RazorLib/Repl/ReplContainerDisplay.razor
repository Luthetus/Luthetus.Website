@using Fluxor.Blazor.Web.Components;
@using Luthetus.Common.RazorLib.Resize

@inherits FluxorComponent

<div class="luth_web_repl-container">
    
    @{ 
        var replState = ReplStateWrap.Value;
        var appOptionsState = AppOptionsStateWrap.Value;
    }

    <CascadingValue Value="replState">
        <CascadingValue Value="appOptionsState">
            <CascadingValue Value="ReplTextEditorGroupKey">
                <CascadingValue Value="ReplTreeViewStateKey">
                    <ReplFolderExplorerDisplay ElementDimensions="replState.FolderExplorerElementDimensions" />

                    <ResizableColumn LeftElementDimensions="replState.FolderExplorerElementDimensions"
                                     RightElementDimensions="replState.TextEditorGroupElementDimensions"
                                     ReRenderFuncAsync="async () => await InvokeAsync(StateHasChanged)" />

                    <ReplTextEditorGroupDisplay ElementDimensions="replState.TextEditorGroupElementDimensions" />
                </CascadingValue>
            </CascadingValue>
        </CascadingValue>
    </CascadingValue>
</div>